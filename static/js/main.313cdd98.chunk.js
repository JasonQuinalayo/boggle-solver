(this["webpackJsonpboggle-solver"]=this["webpackJsonpboggle-solver"]||[]).push([[0],{14:function(e,t,n){},16:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var o=n(1),c=n.n(o),r=n(9),i=n.n(r),a=(n(14),n(7)),s=n(3),u=n.n(s),l=n(6),d=n(2),f=(n(16),function(e,t){var n=Math.ceil(e),o=Math.floor(t);return Math.floor(Math.random()*(o-n+1)+n)}),b=n(0),j=function(e){var t=e.letter,n=e.highlight,c=e.id,r=e.editMode,i=e.localDice,s=e.dieCoordinates,u=e.setLocalDice,l=e.dimension,j=Object(o.useState)(t),h=Object(d.a)(j,2),g=h[0],O=h[1];return Object(b.jsx)("div",{id:c,className:"boggle-tile",style:n?{backgroundColor:"#ff9999"}:{},children:Object(b.jsx)("input",{id:"boggle-".concat(s[0],"-").concat(s[1],"-input"),type:"text",value:g,onFocus:function(e){return e.target.select()},onChange:function(e){if(r){var t=e.target.value;t.length>1&&(t=t.substring(0,1));var n=t.charCodeAt(0);if(n>=97&&n<=122)t=String.fromCharCode(n-32);else if(n<65||n>90)return;"Q"===t&&(t="Qu"),O(t);var o=i.map((function(e,n){return n===s[0]?e.map((function(e,n){return n===s[1]?t:e})):Object(a.a)(e)}));u(o),setTimeout((function(){return document.getElementById("boggle-".concat(s[0],"-").concat(s[1],"-input")).focus()}),0)}},onKeyDown:function(e){var t=e.keyCode;if(t>=37&&t<=40){var n;if(38===t){if(0===s[0])return;n=document.getElementById("boggle-".concat(s[0]-1,"-").concat(s[1],"-input"))}else if(37===t){if(0===s[1])return;n=document.getElementById("boggle-".concat(s[0],"-").concat(s[1]-1,"-input"))}else if(40===t){if(s[0]===l-1)return;n=document.getElementById("boggle-".concat(s[0]+1,"-").concat(s[1],"-input"))}else if(39===t){if(s[1]===l-1)return;n=document.getElementById("boggle-".concat(s[0],"-").concat(s[1]+1,"-input"))}return n.focus(),void setTimeout((function(){return n.select()}),0)}r&&(8===t&&O(""),document.getElementById("boggle-".concat(s[0],"-").concat(s[1],"-input")).select())},onBlur:function(){if(""===g){var e=String.fromCharCode(f(65,90));"Q"===e&&(e="Qu"),O(e)}}})})},h=[["LRYTTE","VTHRWE","EGHWNE","SEOTIS"],["ANAEEG","IDSYTT","OATTOW","MTOICU"],["AFPKFS","XLDERI","HCPOAS","ENSIEU"],["YLDEVR","ZNRNHL","NMIQHU","OBBAOJ"]],g=function(){for(var e=h.map((function(e){return e.map((function(e){var t=f(0,5);return"Q"===e[t]?"Qu":e[t]}))})),t=0;t<15;t++){var n=f(t,15),o=e[Math.floor(n/4)][n%4];e[Math.floor(n/4)][n%4]=e[Math.floor(t/4)][t%4],e[Math.floor(t/4)][t%4]=o}return e},O=function(e){var t=e.setLocalDice,n=e.editMode;return Object(b.jsxs)("div",{id:"boggle-edit",style:n?{}:{display:"none"},children:[Object(b.jsx)("br",{}),Object(b.jsx)("span",{children:"Leaving a tile blank will automatically randomize it."}),Object(b.jsx)("button",{type:"button",onClick:function(){t(g())},children:"Get Random 1992 Boggle Board"})]})},p=function(e){var t=e.dice,n=e.highlightedDice,c=e.highlightColor,r=e.editMode,i=e.setEditDice,a=e.dimension,s=Object(o.useState)(t.map((function(e){return e.map((function(e){return"q"===e?"Qu":e.toUpperCase()}))}))),u=Object(d.a)(s,2),l=u[0],f=u[1];return Object(o.useEffect)((function(){i(l.map((function(e){return e.map((function(e){return"Qu"===e?"q":e.toLowerCase()}))})))}),[l,i]),Object(b.jsxs)("div",{id:"boggle-board",children:[l.map((function(e,t){return Object(b.jsx)("div",{className:"boggle-row",children:e.map((function(e,o){return Object(b.jsx)(j,{dimension:a,localDice:l,setLocalDice:f,dieCoordinates:[t,o],editMode:r,id:"boggle-".concat(t,"-").concat(o),letter:e,highlightColor:c,highlight:null!=n&&n.has(JSON.stringify([t,o]))},e+o)}))},e.join("")+t)})),Object(b.jsx)(O,{editMode:r,setLocalDice:f})]})},v=function(e){var t=e.length;return t<3?0:t<5?1:5===t?2:6===t?3:7===t?5:11},x=function(e){var t=e.playMode,n=e.wordsSet,c=e.maxScore,r=Object(o.useState)(""),i=Object(d.a)(r,2),a=i[0],s=i[1],u=Object(o.useState)(0),l=Object(d.a)(u,2),f=l[0],j=l[1],h=Object(o.useState)([]),g=Object(d.a)(h,2),O=g[0],p=g[1],x=Object(o.useState)(""),m=Object(d.a)(x,2),y=m[0],S=m[1];Object(o.useEffect)((function(){p([]),j(0),S("")}),[n]);var w=function(){var e=a;if(n.has(e)&&!O.includes(e)){var t=v(e);j(f+t),p(O.concat(e)),S("You entered '".concat(e,"' with score of ").concat(t)),s("")}else O.includes(e)?S("You already entered '".concat(e,"'")):S("Invalid word")};return Object(b.jsxs)("div",{id:"boggle-play",style:t?{}:{display:"none"},children:[Object(b.jsxs)("div",{id:"boggle-input-word",children:[Object(b.jsx)("input",{type:"text",value:a,onChange:function(e){var t=e.target;return s(t.value)},onKeyDown:function(e){("Enter"===e.key||e.keyCode&&13===e.keyCode)&&w()}}),Object(b.jsx)("button",{type:"submit",onClick:w,children:"Enter"})]}),Object(b.jsx)("br",{}),Object(b.jsx)("div",{id:"boggle-notification",children:y}),Object(b.jsx)("br",{}),Object(b.jsxs)("div",{id:"boggle-score-sheet",children:[Object(b.jsxs)("div",{children:["Score :",Object(b.jsx)("span",{children:f})]}),Object(b.jsxs)("div",{children:["Max Score :",Object(b.jsx)("span",{children:c})]})]}),Object(b.jsx)("br",{}),"Entered Words :",Object(b.jsx)("div",{id:"boggle-entered-words",children:O.map((function(e){return Object(b.jsxs)("div",{children:[e,Object(b.jsx)("br",{})]})}))})]})},m=function(e){var t=e.solutionViewingMode,n=e.wordsList,o=e.handleMouseOverWord,c=e.maxScore,r=e.handleMouseOut,i=e.handleVisualize,a=e.setVisualizationDelay,s=e.handleStopVisualize;return Object(b.jsxs)("div",{id:"boggle-solution",style:t?{}:{display:"none"},children:[Object(b.jsx)("span",{children:"Visualization Speed"}),Object(b.jsx)("input",{type:"range",min:"1",max:"190",onChange:function(e){return a(191-e.target.valueAsNumber)}}),Object(b.jsxs)("div",{children:[Object(b.jsx)("button",{type:"button",onClick:i,children:"Visualize solving"}),Object(b.jsx)("button",{type:"button",onClick:s,children:"Stop visualization"})]}),Object(b.jsx)("div",{id:"boggle-words-box",children:Object(b.jsx)("div",{id:"boggle-words-list",children:n.map((function(e){return Object(b.jsxs)("div",{onMouseOver:o(e),onMouseOut:r,className:"boggle-word",children:[e.word,Object(b.jsx)("br",{})]})}))})}),Object(b.jsxs)("div",{children:["Max Score:",c]})]})},y=function(){return Object(b.jsx)("div",{id:"boggle-description",children:Object(b.jsxs)("p",{children:["Boggle Solver.",Object(b.jsx)("br",{}),"Word list used as reference is"," ",Object(b.jsx)("a",{href:"https://github.com/elasticdog/yawl",target:"_blank",rel:"noreferrer",children:"'Yet Another Word List'"})," ","by Mendel Leo Cooper."]})})},S=function(){var e=Object(l.a)(u.a.mark((function e(){var t,n,o,c,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("./wordlist/sigword.list.txt");case 2:return t=e.sent,e.next=5,fetch("./wordlist/word.list.txt");case 5:return n=e.sent,e.next=8,t.text();case 8:return o=e.sent,e.next=11,n.text();case 11:return c=e.sent,r=o.split("\n").concat(c.split("\n")),e.abrupt("return",r);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function w(){for(var e=[],t=0;t<26;t+=1)e[t]=null;this.children=e,this.score=0}w.prototype.addWord=function(e,t,n){if(t!==e.length){var o=e.charCodeAt(t)-97,c=this.children[o];null==c&&(c=new w,this.children[o]=c),c.addWord(e,t+1,n)}else this.score=n},w.prototype.print=function(e){!0===this.end&&console.log(e.join(""));for(var t=0;t<26;t+=1)this.children[t]&&(e.push(String.fromCharCode(97+t)),this.children[t].print(e),e.splice(e.length-1))},w.prototype.printAll=function(){this.print([])};var C=w,E=function(e,t){if(0===e.length)return null;for(var n=new C,o=0;o<e.length;o+=1){if(e[o].length>2){var c=v(e[o]);n.addWord(e[o],0,c)}}for(var r=new Set,i=[],a=[],s=[],u=[],l=[],d=0;d<t.length;d+=1){for(var f=[],b=0;b<t[0].length;b+=1)f.push(!1);s.push(f)}for(var j=function e(n,o,c){if(!(n<0||n>=t.length||o<0||o>=t[0].length||s[n][o])){var d=[n,o];l.push(d);var f=t[n][o].charCodeAt(0)-97,b=c.children[f];if(null!==b){if("q"===t[n][o]){if(null===(b=b.children[20]))return void l.push(d);a.push("qu")}else a.push(t[n][o]);if(s[n][o]=!0,u.push([n,o]),b.score&&!r.has(a.join(""))){var j=a.join("");i.push(function(e,t,n){return{word:e,score:t,path:n}}(j,b.score,[].concat(u))),r.add(j),l.push([1])}for(var h=-1;h<=1;h+=1)for(var g=-1;g<=1;g+=1)e(n+h,o+g,b);s[n][o]=!1,u.splice(u.length-1),a.splice(a.length-1),l.push(d)}else l.push(d)}},h=0;h<t.length;h+=1)for(var g=0;g<t[0].length;g+=1)j(h,g,n);return{results:i,foundWords:r,visualizationPath:l}},M=function(){var e=Object(o.useState)([]),t=Object(d.a)(e,2),n=t[0],c=t[1],r=Object(o.useState)([]),i=Object(d.a)(r,2),s=i[0],f=i[1],j=Object(o.useState)(null),h=Object(d.a)(j,2),O=h[0],v=h[1],w=Object(o.useState)(0),C=Object(d.a)(w,2),M=C[0],k=C[1],I=Object(o.useState)(null),B=Object(d.a)(I,2),D=B[0],T=B[1],L=Object(o.useState)(!1),N=Object(d.a)(L,2),W=N[0],z=N[1],A=Object(o.useState)(!1),V=Object(d.a)(A,2),Q=V[0],J=V[1],R=Object(o.useState)(!1),Y=Object(d.a)(R,2),q=Y[0],H=Y[1],P=Object(o.useState)(!1),U=Object(d.a)(P,2),F=U[0],G=U[1],K=Object(o.useState)([]),X=Object(d.a)(K,2),Z=X[0],_=X[1],$=Object(o.useState)(100),ee=Object(d.a)($,2),te=ee[0],ne=ee[1],oe=Object(o.useState)([]),ce=Object(d.a)(oe,2),re=ce[0],ie=ce[1],ae=localStorage.getItem("dice"),se=ae?JSON.parse(ae):g().map((function(e){return e.map((function(e){return"Qu"===e?"q":e.toLowerCase()}))})),ue=Object(o.useState)(se),le=Object(d.a)(ue,2),de=le[0],fe=le[1],be=Object(o.useState)(se),je=Object(d.a)(be,2),he=je[0],ge=je[1];Object(o.useEffect)((function(){(function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(o.useEffect)((function(){localStorage.setItem("dice",JSON.stringify(de))}),[de]),Object(o.useEffect)((function(){var e=E(n,de);if(null!==e){var t=e.results,o=e.foundWords,c=e.visualizationPath;t.sort((function(e,t){return e.word.localeCompare(t.word)})),_(c),v(o),f(t)}}),[n,de]),Object(o.useEffect)((function(){k(s.reduce((function(e,t){return e+t.score}),0))}),[s]);var Oe=function(){fe(he.map((function(e){return Object(a.a)(e)}))),H(!1)};return Object(b.jsxs)("div",{id:"Boggle",children:[Object(b.jsx)(y,{}),Object(b.jsxs)("div",{id:"boggle-interface",children:[Object(b.jsxs)("div",{id:"boggle-buttons",children:[Object(b.jsx)("button",{type:"button",onClick:function(){q&&Oe(),J(!1),z(!0)},children:"Play"}),Object(b.jsx)("button",{type:"button",onClick:function(){q&&Oe(),z(!1),J(!0)},children:"Solution"}),Object(b.jsx)("button",{type:"button",onClick:function(){z(!1),J(!1),H(!0)},style:q?{backgroundColor:"#8080ff"}:{},children:"Edit"})]}),Object(b.jsx)(p,{dice:de,highlightedDice:D,editMode:q,setEditDice:ge,dimension:4}),Object(b.jsxs)("div",{id:"boggle-work-area",children:[Object(b.jsx)(m,{solutionViewingMode:Q,wordsList:s,handleMouseOverWord:function(e){return function(){if(!F){for(var t=new Set,n=0;n<e.path.length;n++)t.add(JSON.stringify(e.path[n]));T(t)}}},maxScore:M,handleMouseOut:function(){T(null)},handleVisualize:function(){var e=te;G(!0);for(var t=[],n=new Set,o=function(o){if(1===Z[o].length)n.forEach((function(n){var c=document.getElementById("boggle-".concat(n[1],"-").concat(n[3]));t.push(setTimeout((function(){c.style.backgroundColor="#8080ff"}),e*o))})),n.forEach((function(n){var c=document.getElementById("boggle-".concat(n[1],"-").concat(n[3]));t.push(setTimeout((function(){c.style.backgroundColor="#ff9999"}),e*(o+2)))}));else{var c=document.getElementById("boggle-".concat(Z[o][0],"-").concat(Z[o][1])),r=JSON.stringify(Z[o]);n.has(r)?(n.delete(r),t.push(setTimeout((function(){c.style.backgroundColor="#ffffff"}),e*o))):(n.add(r),t.push(setTimeout((function(){c.style.backgroundColor="#ff9999"}),e*o)))}},c=0;c<Z.length;c++)o(c);t.push(setTimeout((function(){G(!1)}),Z.length*e)),ie(t)},handleStopVisualize:function(){for(var e=re,t=0;t<e.length;t++)clearTimeout(e[t]);G(!1),ie([]);for(var n=0;n<4;n++)for(var o=0;o<4;o++)document.getElementById("boggle-".concat(n,"-").concat(o)).style.backgroundColor="#ffffff"},setVisualizationDelay:ne}),Object(b.jsx)(x,{maxScore:M,playMode:W,wordsSet:O})]})]})]})};i.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(M,{})}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.313cdd98.chunk.js.map